<!DOCTYPE html>
<html lang="cs">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clash Royale Turnaj - 4 Veter√°ni</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
        color: #333;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        background: white;
        border: 2px solid #ff6b35;
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 4px 15px rgba(255, 107, 53, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
      }

      .logo {
        font-size: 24px;
        font-weight: bold;
        color: #ff6b35;
      }

      .admin-login {
        display: flex;
        gap: 10px;
        align-items: center;
      }

      .admin-login input {
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 14px;
      }

      .btn {
        background: #ff6b35;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 14px;
        transition: background 0.3s;
      }

      .btn:hover {
        background: #e55a2b;
      }

      .btn-secondary {
        background: #6c757d;
      }

      .btn-secondary:hover {
        background: #5a6268;
      }

      .nav-tabs {
        background: white;
        border: 2px solid #ff6b35;
        border-radius: 15px;
        margin-bottom: 20px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(255, 107, 53, 0.1);
      }

      .nav-tabs .tab {
        display: inline-block;
        padding: 15px 25px;
        background: white;
        color: #333;
        text-decoration: none;
        border-right: 1px solid #ff6b35;
        transition: background 0.3s;
        cursor: pointer;
      }

      .nav-tabs .tab:hover {
        background: #fff5f2;
      }

      .nav-tabs .tab.active {
        background: #ff6b35;
        color: white;
      }

      .tab-content {
        background: white;
        border: 2px solid #ff6b35;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 4px 15px rgba(255, 107, 53, 0.1);
      }

      .section {
        display: none;
      }

      .section.active {
        display: block;
      }

      .leaderboard-table,
      .battle-log-table,
      .admin-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }

      .leaderboard-table th,
      .leaderboard-table td,
      .battle-log-table th,
      .battle-log-table td,
      .admin-table th,
      .admin-table td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #eee;
      }

      .leaderboard-table th,
      .battle-log-table th,
      .admin-table th {
        background: #ff6b35;
        color: white;
        font-weight: bold;
      }

      .leaderboard-table tr:hover,
      .battle-log-table tr:hover,
      .admin-table tr:hover {
        background: #fff5f2;
      }

      .form-group {
        margin-bottom: 15px;
      }

      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #333;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 14px;
      }

      .form-row {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
      }

      .admin-panel {
        display: none;
        background: #fff5f2;
        border: 2px solid #ff6b35;
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 20px;
      }

      .admin-panel.show {
        display: block;
      }

      .player-profile {
        cursor: pointer;
        color: #ff6b35;
        text-decoration: underline;
      }

      .player-profile:hover {
        color: #e55a2b;
      }

      .deck-container {
        margin: 10px 0;
        padding: 10px;
        background: #f8f9fa;
        border-radius: 8px;
        border: 1px solid #ddd;
      }

      .deck-embed {
        width: 100%;
        height: 300px;
        border: none;
        border-radius: 8px;
      }

      .rules-content {
        line-height: 1.8;
      }

      .rules-content h3 {
        color: #ff6b35;
        margin: 20px 0 10px 0;
        font-size: 18px;
      }

      .rules-content ul {
        margin-left: 20px;
        margin-bottom: 15px;
      }

      .rules-content li {
        margin-bottom: 8px;
      }

      .battle-match {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px;
        background: #f8f9fa;
        border-radius: 8px;
        margin: 5px 0;
      }

      .player-info {
        flex: 1;
        text-align: center;
      }

      .vs-text {
        font-weight: bold;
        color: #ff6b35;
      }

      .match-result {
        font-weight: bold;
        padding: 5px 10px;
        border-radius: 5px;
        color: white;
      }

      .win {
        background: #28a745;
      }

      .loss {
        background: #dc3545;
      }

      .overtime {
        background: #ffc107;
        color: #333;
      }

      @media (max-width: 768px) {
        .container {
          padding: 10px;
        }

        .header {
          flex-direction: column;
          gap: 15px;
          text-align: center;
        }

        .nav-tabs .tab {
          display: block;
          border-right: none;
          border-bottom: 1px solid #ff6b35;
        }

        .form-row {
          grid-template-columns: 1fr;
        }

        .leaderboard-table,
        .battle-log-table,
        .admin-table {
          font-size: 12px;
        }

        .leaderboard-table th,
        .leaderboard-table td,
        .battle-log-table th,
        .battle-log-table td,
        .admin-table th,
        .admin-table td {
          padding: 8px 4px;
        }
      }

      .hidden {
        display: none;
      }

      .loading {
        text-align: center;
        padding: 20px;
        color: #666;
      }

      .error {
        color: #dc3545;
        background: #f8d7da;
        padding: 10px;
        border-radius: 5px;
        margin: 10px 0;
      }

      .success {
        color: #155724;
        background: #d4edda;
        padding: 10px;
        border-radius: 5px;
        margin: 10px 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="logo">üèÜ Clash Royale Turnaj - 4 Veter√°ni</div>
        <div class="admin-login">
          <input type="password" id="adminPassword" placeholder="nebud gay" />
          <button class="btn" onclick="toggleAdmin()">P≈ôihl√°sit</button>
          <button
            class="btn btn-secondary hidden"
            id="logoutBtn"
            onclick="logout()"
          >
            Odhl√°sit
          </button>
        </div>
      </div>

      <div class="admin-panel" id="adminPanel">
        <h2>üîß Admin Panel</h2>

        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
          "
        >
          <div>
            <h3>‚ûï P≈ôidat hr√°ƒçe</h3>
            <div class="form-group">
              <label>Jm√©no hr√°ƒçe:</label>
              <input
                type="text"
                id="playerName"
                placeholder="Zadej jm√©no hr√°ƒçe"
              />
            </div>
            <div class="form-group">
              <label>Player Tag (voliteln√©):</label>
              <input type="text" id="playerTag" placeholder="#ABC123DEF" />
            </div>
            <button class="btn" onclick="addPlayer()">P≈ôidat hr√°ƒçe</button>
          </div>

          <div>
            <h3>‚öîÔ∏è P≈ôidat z√°pas</h3>
            <div class="form-row">
              <div class="form-group">
                <label>Hr√°ƒç 1:</label>
                <select id="player1Select"></select>
              </div>
              <div class="form-group">
                <label>Hr√°ƒç 2:</label>
                <select id="player2Select"></select>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>V√Ωsledek:</label>
                <select id="matchResult">
                  <option value="win1">V√Ωhra hr√°ƒçe 1 (z√°kladn√≠ doba)</option>
                  <option value="win1_ot">V√Ωhra hr√°ƒçe 1 (overtime)</option>
                  <option value="win2">V√Ωhra hr√°ƒçe 2 (z√°kladn√≠ doba)</option>
                  <option value="win2_ot">V√Ωhra hr√°ƒçe 2 (overtime)</option>
                </select>
              </div>
              <div class="form-group">
                <label>Sk√≥re (vƒõ≈æe):</label>
                <input type="text" id="matchScore" placeholder="2-1" />
              </div>
            </div>
            <div class="form-group">
              <label>Pozn√°mka:</label>
              <textarea
                id="matchNote"
                placeholder="Voliteln√° pozn√°mka k z√°pasu"
                rows="2"
              ></textarea>
            </div>
            <button class="btn" onclick="addMatch()">P≈ôidat z√°pas</button>
          </div>
        </div>

        <div style="margin-top: 30px">
          <h3>üë• Spr√°va hr√°ƒç≈Ø</h3>
          <table class="admin-table">
            <thead>
              <tr>
                <th>Jm√©no</th>
                <th>V√Ωhry</th>
                <th>Prohry</th>
                <th>Body</th>
                <th>Sk√≥re</th>
                <th>Tag</th>
                <th>Akce</th>
              </tr>
            </thead>
            <tbody id="adminPlayersTable"></tbody>
          </table>
        </div>
      </div>

      <div class="nav-tabs">
        <div class="tab active" onclick="showSection('leaderboard')">
          üèÜ Leaderboard
        </div>
        <div class="tab" onclick="showSection('battles')">‚öîÔ∏è Battle Log</div>
        <div class="tab" onclick="showSection('rules')">üìú Pravidla</div>
      </div>

      <div class="tab-content">
        <div id="leaderboard" class="section active">
          <h2>üèÜ Leaderboard</h2>
          <table class="leaderboard-table">
            <thead>
              <tr>
                <th>Pozice</th>
                <th>Hr√°ƒç</th>
                <th>Body</th>
                <th>V√Ωhry</th>
                <th>Prohry</th>
                <th>Z√°pasy</th>
                <th>Sk√≥re</th>
              </tr>
            </thead>
            <tbody id="leaderboardTable"></tbody>
          </table>
        </div>

        <div id="battles" class="section">
          <h2>‚öîÔ∏è Battle Log</h2>
          <div id="battleLogContainer"></div>
        </div>

        <div id="rules" class="section">
          <h2>üìú Pravidla turnaje</h2>
          <div class="rules-content">
            <h3>üéØ √öƒçast v turnaji</h3>
            <ul>
              <li>
                Pro √∫ƒçast v lize je nutn√© b√Ωt v klanu ‚Äû4 Veter√°ni" nebo m√≠t
                v≈°echny hr√°ƒçe v p≈ô√°tel√≠ch
              </li>
              <li>P≈ôid√°v√°n√≠ nov√Ωch hr√°ƒç≈Ø bez povolen√≠ founder≈Ø je zak√°z√°no</li>
            </ul>

            <h3>‚öîÔ∏è Hern√≠ syst√©m</h3>
            <ul>
              <li>Ka≈æd√Ω hr√°ƒç hraje s ka≈æd√Ωm 1 z√°pas</li>
              <li><strong>V√Ωhra v z√°kladn√≠ dobƒõ = 3 body</strong></li>
              <li>
                <strong>V√Ωhra v overtime = 2 body</strong>, pora≈æen√Ω = 1 bod
              </li>
              <li>
                P≈ôi rovnosti bod≈Ø rozhoduje poƒçet zniƒçen√Ωch towerek (sk√≥re)
              </li>
            </ul>

            <h3>üìÖ Povinnosti bƒõhem turnaje</h3>
            <ul>
              <li>Bƒõhem hrac√≠ho dne je povinnost odehr√°t v≈°echny z√°pasy</li>
              <li><strong>Neodehr√°n√≠ z√°pasu = -3 body</strong></li>
              <li>Dlouh√° neaktivita = BAN</li>
            </ul>

            <h3>üìû Kontakt</h3>
            <ul>
              <li>V p≈ô√≠padƒõ nejasnost√≠ kontaktujte foundery</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <script>
      const ADMIN_PASSWORD = "kolac";
      let isAdminLoggedIn = false;
      let tournamentData = {
        players: [],
        matches: [],
      };

      // Naƒçten√≠ dat p≈ôi startu
      window.onload = function () {
        loadData();
      };

      function loadData() {
        try {
          const savedData = localStorage.getItem("tournamentData");
          if (savedData) {
            tournamentData = JSON.parse(savedData);
          }
        } catch (e) {
          console.error("Chyba p≈ôi naƒç√≠t√°n√≠ dat:", e);
        }
        updateDisplay();
      }

      function saveData() {
        try {
          localStorage.setItem(
            "tournamentData",
            JSON.stringify(tournamentData)
          );
        } catch (e) {
          console.error("Chyba p≈ôi ukl√°d√°n√≠ dat:", e);
          showMessage("Chyba p≈ôi ukl√°d√°n√≠ dat!", "error");
        }
      }

      function toggleAdmin() {
        const password = document.getElementById("adminPassword").value;
        if (password === ADMIN_PASSWORD) {
          isAdminLoggedIn = true;
          document.getElementById("adminPanel").classList.add("show");
          document.getElementById("logoutBtn").classList.remove("hidden");
          document.getElementById("adminPassword").style.display = "none";
          document.querySelector(".admin-login .btn").style.display = "none";
          updateAdminDisplay();
          showMessage("√öspƒõ≈°nƒõ p≈ôihl√°≈°en jako admin!", "success");
        } else {
          showMessage("Nespr√°vn√© heslo!", "error");
        }
      }

      function logout() {
        isAdminLoggedIn = false;
        document.getElementById("adminPanel").classList.remove("show");
        document.getElementById("logoutBtn").classList.add("hidden");
        document.getElementById("adminPassword").style.display = "block";
        document.getElementById("adminPassword").value = "";
        document.querySelector(".admin-login .btn").style.display = "block";
      }

      function showSection(sectionId) {
        // Skr√Ωt v≈°echny sekce
        document.querySelectorAll(".section").forEach((section) => {
          section.classList.remove("active");
        });

        // Odstranit aktivn√≠ t≈ô√≠du ze v≈°ech tab≈Ø
        document.querySelectorAll(".tab").forEach((tab) => {
          tab.classList.remove("active");
        });

        // Zobrazit vybranou sekci
        document.getElementById(sectionId).classList.add("active");

        // P≈ôidat aktivn√≠ t≈ô√≠du k odpov√≠daj√≠c√≠mu tabu
        event.target.classList.add("active");
      }

      function addPlayer() {
        const name = document.getElementById("playerName").value.trim();
        const tag = document.getElementById("playerTag").value.trim();

        if (!name) {
          showMessage("Zadej jm√©no hr√°ƒçe!", "error");
          return;
        }

        if (tournamentData.players.find((p) => p.name === name)) {
          showMessage("Hr√°ƒç s t√≠mto jm√©nem ji≈æ existuje!", "error");
          return;
        }

        const newPlayer = {
          id: Date.now(),
          name: name,
          tag: tag,
          wins: 0,
          losses: 0,
          points: 0,
          matches: 0,
          score: 0,
        };

        tournamentData.players.push(newPlayer);
        saveData();
        updateDisplay();

        // Vyƒçistit formul√°≈ô
        document.getElementById("playerName").value = "";
        document.getElementById("playerTag").value = "";

        showMessage(`Hr√°ƒç ${name} byl √∫spƒõ≈°nƒõ p≈ôid√°n!`, "success");
      }

      function addMatch() {
        const player1Id = parseInt(
          document.getElementById("player1Select").value
        );
        const player2Id = parseInt(
          document.getElementById("player2Select").value
        );
        const result = document.getElementById("matchResult").value;
        const score = document.getElementById("matchScore").value.trim();
        const note = document.getElementById("matchNote").value.trim();

        if (!player1Id || !player2Id) {
          showMessage("Vyber oba hr√°ƒçe!", "error");
          return;
        }

        if (player1Id === player2Id) {
          showMessage("Hr√°ƒç nem≈Ø≈æe hr√°t s√°m se sebou!", "error");
          return;
        }

        // Kontrola, zda z√°pas ji≈æ neexistuje
        const existingMatch = tournamentData.matches.find(
          (m) =>
            (m.player1Id === player1Id && m.player2Id === player2Id) ||
            (m.player1Id === player2Id && m.player2Id === player1Id)
        );

        if (existingMatch) {
          showMessage("Z√°pas mezi tƒõmito hr√°ƒçi ji≈æ existuje!", "error");
          return;
        }

        const player1 = tournamentData.players.find((p) => p.id === player1Id);
        const player2 = tournamentData.players.find((p) => p.id === player2Id);

        const newMatch = {
          id: Date.now(),
          player1Id: player1Id,
          player2Id: player2Id,
          player1Name: player1.name,
          player2Name: player2.name,
          result: result,
          score: score,
          note: note,
          date: new Date().toLocaleDateString("cs-CZ"),
        };

        tournamentData.matches.push(newMatch);

        // Aktualizace statistik hr√°ƒç≈Ø
        updatePlayerStats(player1Id, player2Id, result, score);

        saveData();
        updateDisplay();

        // Vyƒçistit formul√°≈ô
        document.getElementById("matchScore").value = "";
        document.getElementById("matchNote").value = "";

        showMessage("Z√°pas byl √∫spƒõ≈°nƒõ p≈ôid√°n!", "success");
      }

      function updatePlayerStats(player1Id, player2Id, result, score) {
        const player1 = tournamentData.players.find((p) => p.id === player1Id);
        const player2 = tournamentData.players.find((p) => p.id === player2Id);

        // Zv√Ω≈°it poƒçet z√°pas≈Ø
        player1.matches++;
        player2.matches++;

        // Zpracovat sk√≥re (vƒõ≈æe)
        if (score) {
          const scoreParts = score.split("-");
          if (scoreParts.length === 2) {
            const score1 = parseInt(scoreParts[0]) || 0;
            const score2 = parseInt(scoreParts[1]) || 0;
            player1.score += score1;
            player2.score += score2;
          }
        }

        // Zpracovat v√Ωsledek
        switch (result) {
          case "win1": // Hr√°ƒç 1 vyhr√°l v z√°kladn√≠ dobƒõ
            player1.wins++;
            player1.points += 3;
            player2.losses++;
            break;
          case "win1_ot": // Hr√°ƒç 1 vyhr√°l v overtime
            player1.wins++;
            player1.points += 2;
            player2.losses++;
            player2.points += 1;
            break;
          case "win2": // Hr√°ƒç 2 vyhr√°l v z√°kladn√≠ dobƒõ
            player2.wins++;
            player2.points += 3;
            player1.losses++;
            break;
          case "win2_ot": // Hr√°ƒç 2 vyhr√°l v overtime
            player2.wins++;
            player2.points += 2;
            player1.losses++;
            player1.points += 1;
            break;
        }
      }

      function updateDisplay() {
        updateLeaderboard();
        updateBattleLog();
        updateAdminDisplay();
      }

      function updateLeaderboard() {
        const tbody = document.getElementById("leaderboardTable");
        tbody.innerHTML = "";

        // Se≈ôadit hr√°ƒçe podle bod≈Ø, pak podle sk√≥re
        const sortedPlayers = [...tournamentData.players].sort((a, b) => {
          if (b.points !== a.points) return b.points - a.points;
          return b.score - a.score;
        });

        sortedPlayers.forEach((player, index) => {
          const row = tbody.insertRow();
          row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>
                        <span class="player-profile" onclick="openPlayerProfile('${
                          player.tag || player.name
                        }')">
                            ${player.name}
                        </span>
                    </td>
                    <td><strong>${player.points}</strong></td>
                    <td style="color: #28a745;">${player.wins}</td>
                    <td style="color: #dc3545;">${player.losses}</td>
                    <td>${player.matches}</td>
                    <td>${player.score}</td>
                `;
        });
      }

      function updateBattleLog() {
        const container = document.getElementById("battleLogContainer");
        container.innerHTML = "";

        if (tournamentData.matches.length === 0) {
          container.innerHTML =
            '<p style="text-align: center; color: #666; padding: 20px;">Zat√≠m nebyl odehr√°n ≈æ√°dn√Ω z√°pas.</p>';
          return;
        }

        // Se≈ôadit z√°pasy podle data (nejnovƒõj≈°√≠ prvn√≠)
        const sortedMatches = [...tournamentData.matches].reverse();

        sortedMatches.forEach((match) => {
          const matchDiv = document.createElement("div");
          matchDiv.className = "battle-match";

          const player1 = tournamentData.players.find(
            (p) => p.id === match.player1Id
          );
          const player2 = tournamentData.players.find(
            (p) => p.id === match.player2Id
          );

          let resultText = "";
          let resultClass = "";

          switch (match.result) {
            case "win1":
              resultText = `${match.player1Name} vyhr√°l`;
              resultClass = "win";
              break;
            case "win1_ot":
              resultText = `${match.player1Name} vyhr√°l (OT)`;
              resultClass = "overtime";
              break;
            case "win2":
              resultText = `${match.player2Name} vyhr√°l`;
              resultClass = "win";
              break;
            case "win2_ot":
              resultText = `${match.player2Name} vyhr√°l (OT)`;
              resultClass = "overtime";
              break;
          }

          matchDiv.innerHTML = `
                    <div class="player-info">
                        <strong>${match.player1Name}</strong>
                        ${
                          player1 && player1.tag
                            ? `<div class="deck-container">
                            <iframe class="deck-embed" src="https://royaleapi.com/player/${player1.tag.replace(
                              "#",
                              ""
                            )}/decks" loading="lazy"></iframe>
                        </div>`
                            : ""
                        }
                    </div>
                    <div class="vs-text">VS</div>
                    <div class="player-info">
                        <strong>${match.player2Name}</strong>
                        ${
                          player2 && player2.tag
                            ? `<div class="deck-container">
                            <iframe class="deck-embed" src="https://royaleapi.com/player/${player2.tag.replace(
                              "#",
                              ""
                            )}/decks" loading="lazy"></iframe>
                        </div>`
                            : ""
                        }
                    </div>
                    <div style="text-align: center;">
                        <div class="match-result ${resultClass}">${resultText}</div>
                        ${
                          match.score
                            ? `<div style="margin-top: 5px;"><strong>Sk√≥re: ${match.score}</strong></div>`
                            : ""
                        }
                        ${
                          match.note
                            ? `<div style="margin-top: 5px; font-style: italic;">${match.note}</div>`
                            : ""
                        }
                        <div style="margin-top: 5px; color: #666; font-size: 12px;">${
                          match.date
                        }</div>
                    </div>
                `;

          container.appendChild(matchDiv);
        });
      }

      function updateAdminDisplay() {
        if (!isAdminLoggedIn) return;

        // Aktualizovat selecty pro p≈ôid√°n√≠ z√°pasu
        const player1Select = document.getElementById("player1Select");
        const player2Select = document.getElementById("player2Select");

        player1Select.innerHTML = '<option value="">Vyber hr√°ƒçe 1</option>';
        player2Select.innerHTML = '<option value="">Vyber hr√°ƒçe 2</option>';

        tournamentData.players.forEach((player) => {
          player1Select.innerHTML += `<option value="${player.id}">${player.name}</option>`;
          player2Select.innerHTML += `<option value="${player.id}">${player.name}</option>`;
        });

        // Aktualizovat tabulku hr√°ƒç≈Ø v admin panelu
        const tbody = document.getElementById("adminPlayersTable");
        tbody.innerHTML = "";

        tournamentData.players.forEach((player) => {
          const row = tbody.insertRow();
          row.innerHTML = `
                    <td>${player.name}</td>
                    <td>${player.wins}</td>
                    <td>${player.losses}</td>
                    <td>${player.points}</td>
                    <td>${player.score}</td>
                    <td>${player.tag || "Nen√≠ zad√°n"}</td>
                    <td>
                        <button class="btn btn-secondary" onclick="deletePlayer(${
                          player.id
                        })" style="font-size: 12px; padding: 5px 10px;">
                            Smazat
                        </button>
                    </td>
                `;
        });
      }

      function deletePlayer(playerId) {
        if (
          !confirm("Opravdu chce≈° smazat tohoto hr√°ƒçe? Tato akce je nevratn√°!")
        ) {
          return;
        }

        // Odstranit hr√°ƒçe
        tournamentData.players = tournamentData.players.filter(
          (p) => p.id !== playerId
        );

        // Odstranit v≈°echny z√°pasy s t√≠mto hr√°ƒçem
        tournamentData.matches = tournamentData.matches.filter(
          (m) => m.player1Id !== playerId && m.player2Id !== playerId
        );

        saveData();
        updateDisplay();
        showMessage("Hr√°ƒç byl √∫spƒõ≈°nƒõ smaz√°n!", "success");
      }

      function openPlayerProfile(tagOrName) {
        if (tagOrName.startsWith("#")) {
          // M√° tag, otev≈ôeme profil na RoyaleAPI
          const cleanTag = tagOrName.replace("#", "");
          window.open(`https://royaleapi.com/player/${cleanTag}`, "_blank");
        } else {
          // Nem√° tag, zobraz√≠me zpr√°vu
          showMessage(
            "Tento hr√°ƒç nem√° nastaven√Ω player tag pro zobrazen√≠ profilu.",
            "error"
          );
        }
      }

      function showMessage(message, type) {
        // Odstranit existuj√≠c√≠ zpr√°vy
        document
          .querySelectorAll(".success, .error")
          .forEach((el) => el.remove());

        const messageDiv = document.createElement("div");
        messageDiv.className = type;
        messageDiv.textContent = message;
        messageDiv.style.position = "fixed";
        messageDiv.style.top = "20px";
        messageDiv.style.right = "20px";
        messageDiv.style.zIndex = "1000";
        messageDiv.style.maxWidth = "300px";

        document.body.appendChild(messageDiv);

        setTimeout(() => {
          if (messageDiv.parentNode) {
            messageDiv.parentNode.removeChild(messageDiv);
          }
        }, 3000);
      }
    </script>
  </body>
</html>
